<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Collections and Iterators (ES6) Sample</title>

    <link rel="stylesheet" href="../styles/main.css">
  </head>
  <body>
    <h1>Collections and Iterators (ES6) Sample</h1>
    <p>Available in <a href="http://www.chromestatus.com/feature/4696563918045184">Chrome 38+</a></p>

    <p>
      There are several new types of collections and ways of iterating over collections in the
      <a href="https://people.mozilla.org/~jorendorff/es6-draft.html">draft ECMAScript 6 specification</a>.
    </p>

    <p>
      This sample demonstrates creating and working with two types of collections, <code>Set</code>
      and <code>Map</code>. It also demonstrates using the  <code>for...of</code> syntax to iterate over
      each type of collection.
    </p>

    <!-- // [START code-block] -->
    <pre id="log"></pre>

    <script>
      function log() {
        document.querySelector('#log').textContent += Array.prototype.slice.call(arguments).join('') + '\n';
      }

      log('Creating, using, and iterating over a Set:');
      var randomIntegers = new Set();
      // Generate a random integer in the range [1..10] five times,
      // and use a Set to keep track of the distinct integers that were generated.
      for (var i = 0; i < 5; i++) {
        randomIntegers.add(Math.floor(Math.random() * 10) + 1);
      }
      log(randomIntegers.size, ' distinct integers were generated.');
      log('The number 10 was ', randomIntegers.has(10) ? '' : 'not ', 'one of them.');
      log('Here\'s all of them:');
      // Use for...of to iterate over the items in the Set.
      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iteration-statements
      // The Set iterator yields a single value corresponding to each entry in the Set.
      for (var item of randomIntegers) {
        log(item);
      }

      log('\nCreating an iterating over a Map:');
      // Maps can be initialized by passing in an iterable value (https://people.mozilla.org/~jorendorff/es6-draft.html#sec-map-iterable)
      // Here, we use an Array of Arrays to initialize. The first value in each sub-Array is the new
      // Map entry's key, and the second is the item's value.
      var typesOfKeys = new Map([
        ["one", "My key is a string."],
        ["1", "My key is also a string"],
        [1, "My key is a number"]
      ]);
      // You can also call set() to add new keys/values to an existing Map.
      typesOfKeys.set('!!!!', 'My key is excited!');
      // Use for...of to iterate over the items in the Map.
      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iteration-statements
      // The Map iterator yields an Array with two items; the first is the Map entry's key and the
      // second is the Map entry's value.
      for (var item of typesOfKeys) {
        log(item[0], ' -> ', item[1]);
      }
    </script>
    <!-- // [END code-block] -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-53563471-1');
      ga('send', 'pageview');
    </script>
  </body>
</html>
